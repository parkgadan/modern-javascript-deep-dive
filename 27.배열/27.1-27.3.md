# 27.1 배열이란?

- `배열`은 여러 개의 값을 순차적으로 나열한 자료구조다.
- 배열이 가지고 있는 값을 `요소`라고 부른다.
- 배열의 요소는 배열에서 자신의 위치를 나타내는 0 이상의 정수인 `인덱스`를 갖는다.
  - 요소에 접근할 때는 대괄호 표기법을 사용한다. 대괄호 내에는 접근하고 싶은 요소의 인덱스를 지정한다.
- 배열은 배열의 길이를 나타내는 `length` 프로퍼티를 갖는다.
- 배열은 객체 타입이다.
- 배열은 배열 리터럴, Array 생성자 함수, Array.of, Array.from 메서드로 생성할 수 있다.

### 배열과 객체의 차이

| 구분            | 객체                      | 배열          |
| --------------- | ------------------------- | ------------- |
| 구조            | 프로퍼티 키와 프로퍼티 값 | 인덱스와 요소 |
| 값의 참조       | 프로퍼티 키               | 인덱스        |
| 값의 순서       | X                         | O             |
| length 프로퍼티 | X                         | O             |

# 27.2 자바스크립트 배열은 배열이 아니다

- 일반적인 배열
  - 자료구조에서 말하는 배열은 동일한 크기의 메모리 공간이 빈틈없이 연속적으로 나열된 자료구조를 말한다.
  - 배열의 요소는 하나의 데이터 타입으로 통일되어 있으며 서로 연속적으로 인접해 있다. 이러한 배열을 `밀집 배열`이라 한다.
  - 인덱스를 통해 단 한 번의 연산(시간복잡도 **O(1)**)으로 임의의 요소에 접근할 수 있다. 인은 매우 효율적이며, 고속으로 동작한다.
  - 하지만 정렬되지 않은 배열에서 특정한 요소를 검색하는 경우 배열의 모든 요소를 처음부터 특정 요소를 반견할 때까지 차례대로 검색(시간복잡도 **O(n)**)해야한다.
- 자바스크립트 배열
  - 배열의 요소를 위한 각각의 메모리 공간은 동일한 크기를 갖지 않아도 되며, 연속적으로 이어져 있지 않을 수 있다. 이를 `희소 배열`이라 한다.
  - 자바스크립트의 배열은 **일반적인 배열의 동작을 흉내 낸 특수한 객체**다.
  - 자바스크립트 배열의 인덱스는 프로퍼티 키이며, 요소는 사실 프로퍼티 값이다.
- 일반적인 배열 vs 자바스크립트 배열

  - 일반적인 배열은 **인덱스로 요소에 빠르게 접근**할 수 있다. 하지만 요소를 삽입 또는 삭제하는 경우에는 효율적이지 않다.
  - 자바스크립트 배열은 해시테이블로 구현된 객체이므로 인덱스로 요소에 접근하려는 경우 일반적인 배열보다 성능적인 면에서 느릴 수 밖에 없다. 하지만 **요소를 삽입 또는 삭제하는 경우에는 일반적인 배열보다 빠른 성능**을 기대할 수 있다.

- 인덱스로 배열 요소에 접근할 때 일반적인 배열보다 느릴 수밖에 없는 단점을 보완하기 위해, 대부분의 모던 자바스크립트 엔진은 배열을 일반 객체와 구별하여 좀 더 배열처럼 동작하도록 최적화하여 구현했다.

# 27.3 length 프로퍼티와 희소 배열

- length 프로퍼티는 요소의 개수, 배열의 길이를 나타내는 0 이상의 정수를 값으로 갖는다.
- length 프로퍼티의 값은 배열에 요소를 추가하거나 삭제하면 자동 갱신된다.
- length 프로퍼티의 값은 배열의 길이를 바탕으로 결정되지만 임의의 숫자 값을 명시적으로 할당할 수도 있다.

  - 현재 length 프로퍼티 값보다 작은 숫자 값을 할당하면 배열의 길이가 줄어든다.
  - 현재 length 프로퍼티 값보다 큰 숫자 값을 할당하면, length 프로퍼티 값은 변경되지만 배열의 길이가 늘어나진 않는다.

- `일반적인 배열`의 length는 배열 요소의 개수와 언제나 일치한다. 하지만 `희소 배열`은 length와 배열 요소의 개수가 일치하지 않으며 희소 배열의 length는 희소 배열의 실제 요소 개수보다 언제나 크다.
- 자바스크립트는 문법적으로 희소 배열을 허용하지만 **사용하지 않는 게 좋다.**
  - 희소 배열은 연속적인 값의 집합이라는 배열의 기본적인 개념과 맞지 않으며 성능에도 좋지 않은 영향을 준다.
  - 최적화가 잘 돼 있는 모던 자바스크립트 엔진은 요소의 타입이 일치하는 배열을 생성할 때 일반적인 의미의 배열처럼 연속적인 메모리 공간을 확보한다.
- 배열을 생성할 경우엔 희소 배열을 생성하지 않도록 주의하자. **배열에는 같은 타입의 요소를 연속적으로 위치시키는 것이 최선이다.**
