# 11장 원시 값과 객체의 비교


## 목차

- [11.1 원시 값](#11.1)
- [11.2 암묵적 타입 변환](#11.2)


## 11.1 원시 값<a name="11.1"></a>

### 11.1.1 변경 불가능한 값

- 원시 타입의 값 === 변경 불가능한 값
	- 한번 생성된 원시 값은 읽기 전용 값으로서 변경 불가능
	- 변경 불가능하다는 것은 변수가 아니라 값에 대한 진술

- 불변성
	- 불변성을 갖는 원시 값을 할당한 변수는 재할당 이외에 변수 값을 변경할 수 있는 방법 없음

```js
const o = {};

o.a = 1;
console.log(o); // {a: 1}
```

### 11.1.2 문자열과 불변성

- 유사 배열 객체
	- 배열처럼 인덱스로 프로퍼티 값에 접근 가능하며, length 프로퍼티를 갖는 객체
	- 마치 배열처럼 인덱스를 통해 각 문자에 접근 가능하며, length 프로퍼티를 갖기 때문에 유사 배열 객체이며, for 문으로 순회 가능

```js
var str = 'string';
// 문자열은 유사 배열이므로 배열과 유사하게 인덱스를 사용해 각 문자에 접근 가능
console.log(str[0]); // s

// 원시 값인 문자열이 객체처럼 동작
console.log(str.length); // 6 
console.log(str.tollpperCase()); // STRING
```

### 11.1.3 값에 의한 전달

- 자바스크립트를 위한 용어가 아니며, 엄격하게 표현하면 값이 전달되는 것이 아니라 메모리 주소가 전달됨
	- 변수와 같은 식별자는 값이 아닌 메모리 주소를 기억하고 있음

- 값에 의한 전달은 메모리 주소를 전달하며, 전달된 메모리 주소를 통해 메모리 공간에 접근하면 값을 참조할 수 있음

- 두 변수의 원시 값은 서로 다른 메모리 공간에 저장된 별개의 값이 되어 어느 한쪽에서 재할당을 통해 값을 변경하더라도 서로 간섭할 수 없음

```js
var copy = score;

// score은 식별자 표현식으로서 숫자 값이 80으로 평가되는데, 두 가지 평가 방식 가능
// 1. 새로운 80을 생성해서 메모리 주소를 전달하는 방식, 이 방식은 할당 시점에 두 변수가 기억하는 메모리 주소가 다름
// 2. score의 변수값 80의 메모리 주소를 그대로 전달하는 방식, 이 방식은 할당 시점에 두 변수가 기억하는 메모리 주소가 같음
```


## 11.2 객체<a name="11.2"></a>

- 자바스크립트 객체의 관리 방식
	- 프로퍼티 키를 인덱스로 사용하는 해시 테이블
	- 일반적인 해시 테이블보다 나은 방법으로 객체 구현
		- 프로퍼티에 접근하기 위해 동적 탐색 대신 히든 클래스라는 방식을 사용해 C++ 객체의 프로퍼티에 접근하는 정도의 성능을 보장함
		- 히든 클래스는 자바와 같이 고정된 객체 레이아웃과 유사하게 동작

### 11.2.1 변경 가능한 값

- 객체(참조) 타입의 값
	- 객체는 변경 가능한 값
	
- 객체를 할당한 변수가 기억하는 메모리 주소를 통해 메모리 공간에 접근하면 참조 값에 접근 가능

- 참조 값은 생성된 객체가 저장된 메모리 공간의 주소 자체

- 원시 값을 할당한 변수를 참조하면 메모리에 저장되어 있는 원시 값에 접근

- 원시 값은 변경 불가능한 값으로, 원시 값을 갖는 변수의 값을 변경하려면 재할당 외
에는 방법 없음

- 객체를 할당한 변수는 재할당 없이 객체 직접 변경 가능

- 재할당 없이 프로퍼티를 동적으로 추가할 수 있으며, 값 갱신/삭제 가능

- 여러 개의 식별자가 하나의 객체 공유 가능

- 얕은 복사와 깊은 복사
	- 객체를 프로퍼티 값으로 갖는 객체의 경우, **얕은 복사**는 한 단계까지만 복사하는 것을 말하고 **깊은 복사**는 객체에 중첩되어 있는 객체까지 모두 복사하는 것을 뜻함

```js
var person = {
	name: 'Lee' 
};

// 프로퍼티 값 갱신
person.name = 'Kim'; 

// 프로퍼티 동적 생성
person.address = 'Seoul';
console.log(person); // {name: "Kim", address: "Seoul"}
```

### 11.2.2 참조에 의한 전달

- 객체를 가리키는 변수(원본, person)를 다른 변수(사본, copy)에 할당하면 원본의 참조 값이 복사되어 전달됨

- 두 개의 식별자가 하나의 객체를 공유하는 것을 의미

- 값에 의한 전달과 참조에 의한 전달은 식별자가 기억하는 메모리 공간에 저장되어 있는 값을 복사 해서 전달한다는 면에서 동일함
	- 자바스크립트에는 참조에 의한 전달은 존재하지 않고 “값에 의한 전달”만이 존재함