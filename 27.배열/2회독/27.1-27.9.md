# 27장 배열


## 목차

- [27.1 배열이란?](#27.1)
- [27.2 자바스크립트 배열은 배열이 아니다](#27.2)
- [27.3 length 프로퍼티와 희소 배열](#27.3)
- [27.4 배열 생성](#27.4)
- [27.5 배열 요소의 참조](#27.5)
- [27.6 배열 요소의 추가와 갱신](#27.6)
- [27.7 배열 요소의 삭제](#27.7)
- [27.8 배열 메서드](#27.8)
- [27.9 배열 고차 함수](#27.9)


## 27.1 배열이란?<a name="27.1"></a>

- 배열: 여러 개의 값을 순차적으로 나열한 자료구조

- 요소: 배열이 가지고 있는 값, 요소에 접근할 때는 대괄호 표기법 사용

- 인덱스: 배열에서 자신의 위치를 나타내는 0 이상의 정수, 배열의 요소 접근 시 사용

|구분|객체|배열|
|--|--|--|
|구조|프로퍼티 키와 프로퍼티 값|인덱스와 요소|
|값의 참조|프로퍼티 키|인덱스|
|값의 순서|X|O|
|length 프로퍼티|X|O|


## 27.2 자바스크립트 배열은 배열이 아니다<a name="27.2"></a>

- 밀집 배열: 배열의 요소는 하나의 데이터 타입으로 통일되어 있으며 서로 연속적으로 인접해 있음

- 임의의 요소에 접근 가능(임의 접근, 시간 복잡도 O(1))
	- `검색 대상 요소의 메모리 주소 = 배열의 시작 메모리 주소 + 인덱스 * 요소의 바이트 수`

- 희소 배열: 배열의 요소가 연속적으로 이어져 있지 않는 배열


## 27.3 length 프로퍼티와 희소 배열<a name="27.3"></a>

- `length` 프로퍼티는 요소의 개수(배열의 길이를 나타내는 0 이상의 정수)를 값으로 가짐

- 배열에 요소 추가/삭제 시 자동 갱신됨

- 임의의 숫자 값을 명시적으로 할당 가능

- 현재 `length` 프로퍼티 값보다 작은 숫자 값 할당 시 배열의 길이 줄어듦

- 같은 타입의 요소를 연속적으로 위치시키는 것이 최선


## 27.4 배열 생성<a name="27.4"></a>

### 27.4.1 배열 리터럴

- 가장 일반적이고 간편한 배열 생성방식

- 0개 이상의 요소를 쉼표로 구분하여 대괄호([])로 묶음

- 프로퍼티 키가 없고 값만 존재함

- 요소를 생략하면 희소 배열 생성됨

```js
const arr = [1, , 3]

console.log(arr.length); // 3
console.log(arr); // [1, empty, 3]
console.log(arr[1]); // undefined
```

### 27.4.2 Array 생성자 함수

- 전달된 인수의 개수에 따라 다르게 동작함
	- 전달된 인수가 1개이고 숫자인 경우 `length` 프로퍼티 값이 인수인 배열을 생성하면, 생성된 배열은 희소 배열임
	- 전달된 인수가 없는 경우 빈 배열을 생성하며, 배열 리터럴 `[]`과 같음
	- 전달된 인수가 2개 이상이거나 숫자가 아닌 경우 인수를 요소로 갖는 배열을 생성함

### 27.4.3 Array.of

- 전달된 인수가 1개이고 숫자이더라도 인수를 요소로 갖는 배열을 생성함

### 27.4.4 Array.from

- 유사 배열 객체 or 이터러블 객체를 인수로 전달받아 배열로 변환하여 반환함

- 두 번째 인수로 전달한 콜백 함수에 첫 번째 인수에 의해 생성된 배열의 요소값과 인덱스를 순차적으로 전달하면서 호출하고, 콜백 함수의 반환값으로 구성된 배열을 반환함

```js
Array.from({ length: 3 }); // [undefined, undefined, undefined]

Array.from({ length: 3 }, (_, i) => i); // [0, 1, 2]
```


## 27.5 배열 요소의 참조<a name="27.5"></a>

- 배열의 요소 참조 시 대괄호([]) 표기법 사용함

- 대괄호 안에는 인덱스 필요

- 값을 참조할 수 있다는 의미에서 객체의 프로퍼티 키와 같은 역할을 함


## 27.6 배열 요소의 추가와 갱신<a name="27.6"></a>

- 존재하지 않는 인덱스를 사용해 값을 할당하면 새로운 요소 추가됨

- 현재 배열의 `length` 프로퍼티 값보다 큰 인덱스로 새로운 요소 추가하면 희소 배열


## 27.7 배열 요소의 삭제<a name="27.7"></a>

- 배열은 객체이기 때문에 특정 요소를 삭제하기 위해 `delete` 연산자 사용 가능
	- `delete` 연산자는 희소 배열을 만들기 때문에 사용하지 않는 게 좋음

- 희소 배열을 만들지 않으면서 요소를 완전히 삭제하려면 `Array.prototype.splice` 메서드 사용


## 27.8 배열 메서드<a name="27.8"></a>

- 원본 배열을 직접 변경하는 메서드와 원본 배열을 변경하지 않고 새로운 배열을 생성하여 반환하는 메서드가 존재

### 27.8.1 Array.isArray

- 정적 메서드이며 전달된 인수가 배열이면 `true`, 아니면 `false`

### 27.8.2 Array.prototype.indexOf

- 원본 배열에서 인수로 전달된 요소를 검색해 인덱스 반환
	- 인수로 전달한 요소와 중복되는 요소가 여러 개 있는 경우 첫 번째로 검색된 요소의 인덱스를 반환
	- 원본 배열에 인수로 전달한 요소가 존재하지 않으면 -1 반환

- `Array.prototype.inclueds` 메서드가 더 가독성이 좋음

### 27.8.3 Array.prototype.push

- `push` 메서드는 인수로 전달받은 모든 값을 원본 배열의 마지막 요소로 추가하고 변경된 `length` 프로퍼티 값 반환

- 원본 배열을 직접 수정

### 27.8.4 Array.prototype.pop

- 원본 배열이 빈 배열인 경우 `undefined` 반환

- 원본 배열 직접 수정

### 27.8.5 Array.prototype.unshift

- 인수로 전달받은 모든 값을 원본 배열 선두에 요소로 추가하고 변경된 `length` 프로퍼티 값을 반환함

- `unshift` 메서드는 원본 배열을 직접 변경함

### 27.8.6 Array.prototype.shift

- 원본 배열에서 첫 번째 요소를 제거하고 제거한 요소를 반환함

- 원본 배열이 빈 배열인 경우 `undefined` 반환함

### 27.8.7 Array.prototype.concat

- `concat` 메서드는 인수로 전달된 값들(배열 또는 원시값)을 원본 배열의 마지막 요소로 추가한 새로운 배열 반환

- `push`와 `unshift` 메서드는 `concat` 메서드로 대체 가능

- 스프레드 문법으로 대체 가능

### 27.8.8 Array.prototype.splice

- 원본 배열을 직접 변경하는 메서드이며, 원본 배열의 처음이나 마지막에 요소를 추가하거나 제거함

- 원본 배열의 중간에 요소를 추가하거나 중간에 있는 요소를 제거하는 경우 `splice` 메서드 사용

### 27.8.9 Array.prototype.slice

- 인수로 전달된 범위의 요소들을 복사하여 배열로 반환함

- 원본 배열은 변경되지 않음

- 얕은 복사를 통해 생성함

- `Array.from` 메서드 사용 시 간단하게 유사 배열 객체를 배열로 반환 가능

### 27.8.10 Array.prototype.join

- 원본 배열의 모든 요소를 문자열로 변환 후, 인수로 전달받은 문자열(구분자)로 연결한 문자열을 반환함

### 27.8.11 Array.prototype.reverse

- `reverse` 메서드는 원본 배열의 순서를 반대로 뒤집음

- 반환값은 변경된 배열

### 27.8.12 Array.prototype.fill

- `fill` 메서드는 인수로 전달받은 값을 배열의 처음부터 끝까지 요소로 채움

- 원본 배열은 변경됨

### 27.8.13 Array.prototype.includes

- `includes` 메서드는 배열 내에 특정 요소가 포함되어 있는지 확인하여 `true` 또는 `false` 반환함

### 27.8.14 Array.prototype.flat

- 인수로 전달한 깊이만큼 재귀적으로 배열을 평탄화함

- 인수로 `Infinity`를 전달하면 중첩 배열 모두 평탄화함


## 27.9 배열 고차 함수

- 불변성을 지향하는 함수형 프로그래밍 기반

- 조건문과 반복문을 제거하여 변수의 사용을 억제하는 프로그래밍 패러다임

### 27.9.1 Array.prototype.sort

- `sort` 메서드는 배열의 요소를 정렬함

- 원본 배열을 직접 변경하며 정렬된 배열 반환

- 기본적으로 오름차순으로 요소 정리

- `sort` 메서드의 정렬 알고리즘은 quicksort에서 timesort 알고리즘으로 변경되었음

### 27.9.2 Array.prototype.forEach

- `for`문을 대체할 수 있는 고차 함수

- 내부에서 반복문을 통해 자신을 호출한 배열을 순회하면서 수행해야 할 처리를 콜백 함수로 전달받아 반복 호출함

- `for` 문에 비해 성능이 좋지만 가독성이 더 좋기 때문에, 요소가 대단히 많은 배열을 순회하거나 시간이 많이 걸리는 복잡한 코드를 제외하고는 `forEach` 사용 권장

### 27.9.3 Array.prototype.map

- 자신을 호출한 배열의 모든 요소를 순회하면서 인수로 전달받은 콜백 함수를 반복 호출하며, 콜백 함수의 반환값들로 구성된 새로운 배열을 반환함

- 원본 배열은 변경되지 않음

- `map` 메서드가 생성하여 반환하는 새로운 배열의 `length` 프로퍼티 값은 `map` 메서드를 호출한 배열의 `length` 프로퍼티 값과 반드시 일치함

### 27.9.4 Array.prototype.filter

- 콜백 함수의 반환값이`true`인 요소로만 구성된 새로운 배열을 반환

- `filter` 메서드가 생성하여 반환 한 새로운 배열의 `length` 프로퍼티 값은 `filter` 메서드를 호출한 배열의 `length` 프로퍼티 값과 같거나 작음

### 27.9.5 Array.prototype.reduce

- 하나의 결과값을 만들어 반환

- `reduce` 메서드는 하나의 결과값을 반환하며, 호출 시 언제나 초기값을 전달하는게 안전함

### 27.9.6 Array.prototype.some

- 콜백 함수의 반환값이 단 한 번이라도 참이면 `true`, 모두 거짓이면 `false` 반환

### 27.9.7 Array.prototype.every

- 콜백 함수의 반환값이 모두 참이면 `true`, 단 한번이라도 거짓이면 `false` 반환

### 27.9.8 Array.prototype.find

- 콜백 함수의 반환값이 `true`인 요소가 존재하지 않는다면 `undefined` 반환

### 27.9.9 Array.prototype.findlndex

- 반환값이 true인 첫 번째 요소의 인덱스를 반환

### 27.9.10 Array.prototype.flatMap

- map 메서드를 통해 생성된 새로운 배열을 평탄화함